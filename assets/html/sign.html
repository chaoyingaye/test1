<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <link rel="stylesheet" href="../css/reset.css" type="text/css">
    <link rel="stylesheet" href="../css/sign.css" type="text/css">
    <script type="text/javascript" src="../../node_modules/jquery/dist/jquery.min.js"></script>
</head>
<body>
<div id="headerwarp">
       <h1 class="logo">
           <a href="../../index.html"><img src="../img/1535680953978.png" alt=""></a>
       </h1>
    <div class="signtitle">
        欢迎注册
    </div>
    <div class="login">
        <span>已有我买网账户</span>
        <a href="./login.html?_ijt=mfd1q9eom95ntvcml1arqdk36q">请登录</a>
    </div>
</div>

<div id="contwarp">
      <div class="signcont">
          <form  action="http://localhost:63343/womai/assets/server/sign.php?login=http://localhost:63343/womai/assets/html/login.html"  method="post" name="f1">
            <div>
                <input type="text" id="email" name="email" placeholder="邮箱/手机">
                <label for="email" style="display: inline"></label>
                <i style="display: none;"></i>
                <s style="display: none;"></s>
            </div>
            <div>
                  <input type="text" id="username" name="username" placeholder="用户名">
                  <label for="username" style="display: inline"></label>
                  <i style="display: none;"></i>
                  <s style="display: none;"></s>
            </div>
            <div>
                  <input type="password" id="password1" name="password1" placeholder="设置密码">
                  <label for="password1" style="display: inline"></label>
                  <i style="display: none;"></i>
                  <s style="display: none;"></s>
            </div>
            <div>
                  <input type="password" id="password2" name="password2" placeholder="重输密码">
                  <label for="password2" style="display: inline"></label>
                  <i style="display: none;"></i>
                  <s style="display: none;"></s>
            </div>
            <div>
                  <input type="text" id="yanzheng" name="yanzheng" placeholder="手机验证码">
                  <label for="yanzheng" style="display: inline"></label>
                  <div>发送验证码</div>
            </div>
            <div>
                  <input type="checkbox" name="true">
                  <span>我已阅读并同意 <a href="#">《我买网网上商城购买服务》</a></span>
            </div>
            <div class="signbtn">
                  <input type="submit" name="register" id="register" value="立即注册">
            </div>
            <em>我有邀请码&gt;</em>
          </form>
      </div>
</div>

<div id="footer">
    <ul>
        <li>Copyright©2009-2018 womai.com.hk All Rights Reserved 中粮海优（北京）有限公司版权所有</li>
        <li>中粮海优（北京）有限公司 北京市朝阳区朝阳门南大街8号18F-09室</li>
        <li>
            <a href="#">京公网安备 11010102000458号</a>
            京ICP备 13003995号 营业执照（统一社会信用代码）91110000055590239L 食品经营许可证（社会信用代码）05559023-9</li>
        <li></li>
    </ul>
</div>

<script>
    var email=document.getElementById("email");
    var username=document.getElementById("username");
    var password1=document.getElementById("password1");
    var password2=document.getElementById("password2");
    var register=document.getElementById("register");
    init();
    function init() {
        email.addEventListener("blur",emailHandler);
        username.addEventListener("blur",usernameHandler);
        password1.addEventListener("blur",password1Handler);
        password2.addEventListener("blur",password2Handler);
        register.addEventListener("click",btnHandler);
    }
    function emailHandler(e) {
        var telReg=/^1[34578]\d{9}$/;
        var emailReg=/^\w+@[a-z0-9]{2,4}\.[a-z]{2,4}$/;
        if(!email.value.match(telReg) && !email.value.match(emailReg)){
            console.log($("#email~")[1])
                $("#email~")[1].style.display="block";
            $("#email~")[2].style.display="block";
                $("#email~")[1].innerHTML="请输入正确的邮箱或手机号";
       }
        else{
            $("#email~")[1].style.display="none";
            $("#email~")[2].style.display="none";
        }
    }
    function usernameHandler(e) {
        var userReg=/^[a-zA-Z]\w{4,18}$/;
        if(username.value.match(userReg) && username.value.length>4 && username.value.length<20){
            $("#username~")[1].style.display="none";
            $("#username~")[2].style.display="none";
        }
        else{
            $("#username~")[1].style.display="block";
            $("#username~")[2].style.display="block";
            $("#username~")[1].innerHTML="请输入4-20位非数字开头的用户名";
        }
    }
function password1Handler(e) {
//        纯字母 或 纯数字 6-18
// var pwReg= /^(\d{8,16}|[a-z]{8,16}|[A-Z]{8,16})$/;
//    数字字母大小下划线写6-18
    var pwReg=/^([\w!@#\$%\^&\*]{8,16})$/;
    if(password1.value.match(pwReg) && password1.value.length>8 && password1.value.length<16){
        $("#password1~")[1].style.display="none";
        $("#password1~")[2].style.display="none";
    }
    else{
        $("#password1~")[1].style.display="block";
        $("#password1~")[2].style.display="block";
        $("#password1~")[1].innerHTML="请输入8-16位密码，数字字母下划线";
    }
    }
function password2Handler(e) {
for(var i=0;i<password1.value.length;i++){
    if(password2.value[i]!==password1.value[i]){
        $("#password2~")[1].style.display="block";
        $("#password2~")[2].style.display="block";
        $("#password2~")[1].innerHTML="两次密码不同";
    }
    else
        $("#password2~")[1].style.display="none";
        $("#password2~")[2].style.display="none";
    }
}
function btnHandler(e) {
    var obj="username:"+username.value+";email:"+email.value;
    console.log(obj);
}


</script>
</body>
</html>